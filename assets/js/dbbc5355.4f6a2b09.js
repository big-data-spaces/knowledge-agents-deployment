"use strict";(self.webpackChunkcatenax_ng=self.webpackChunkcatenax_ng||[]).push([[66],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return g}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),g=o,h=d["".concat(s,".").concat(g)]||d[g]||p[g]||l;return n?a.createElement(h,r(r({ref:t},u),{},{components:n})):a.createElement(h,r({ref:t},u))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,r=new Array(l);r[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,r[1]=i;for(var c=2;c<l;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4238:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return p}});var a=n(7462),o=n(3366),l=(n(7294),n(3905)),r=["components"],i={sidebar_position:3,title:"How To (Pilot)"},s=void 0,c={unversionedId:"howto",id:"howto",title:"How To (Pilot)",description:"If you do not want to compile the sources on your own, you may directly start with Deployment",source:"@site/docs/howto.md",sourceDirName:".",slug:"/howto",permalink:"/product-knowledge/docs/howto",editUrl:"https://github.com/catenax-ng/product-knowledge/edit/main/docs/howto.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"How To (Pilot)"},sidebar:"tutorialSidebar",previous:{title:"Architecture",permalink:"/product-knowledge/docs/architecture"},next:{title:"Tutorial (Knowledge Agents Spike)",permalink:"/product-knowledge/docs/spike"}},u={},p=[{value:"Source Repository",id:"source-repository",level:2},{value:"Building Packages and Running Locally",id:"building-packages-and-running-locally",level:2},{value:"Building Knowledge Agents",id:"building-knowledge-agents",level:3},{value:"Building under MacOS/M=&gt;1",id:"building-under-macosm1",level:3},{value:"Running Knowledge Agents (Locally)",id:"running-knowledge-agents-locally",level:3},{value:"Running under MacOS/M=&gt;1",id:"running-under-macosm1",level:3},{value:"Deploying Packages",id:"deploying-packages",level:2},{value:"Using a Helm Chart/Kubernetes Deployment",id:"using-a-helm-chartkubernetes-deployment",level:3},{value:"Interacting with the Pilot APIs and the Skill Gym",id:"interacting-with-the-pilot-apis-and-the-skill-gym",level:2},{value:"What the demo shows",id:"what-the-demo-shows",level:2},{value:"Login and Welcome",id:"login-and-welcome",level:3},{value:"Jump to the Semantic Hub in the Portal",id:"jump-to-the-semantic-hub-in-the-portal",level:3}],d={toc:p};function g(e){var t=e.components,i=(0,o.Z)(e,r);return(0,l.kt)("wrapper",(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"If you do not want to compile the sources on your own, you may directly start with ",(0,l.kt)("a",{parentName:"p",href:"#deploying-packages"},"Deployment")),(0,l.kt)("p",null,"If you are a member of the Catena-X consortium, you could directly start with ",(0,l.kt)("a",{parentName:"p",href:"#interacting-with-the-pilot-apis-and-the-skill-gym"},"Interacting with the Pilot APIs"),"."),(0,l.kt)("h2",{id:"source-repository"},"Source Repository"),(0,l.kt)("p",null,"You will find the source code of the Pilot under ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/catenax-ng/product-knowledge/tree/v0.5.5-pilot"},"https://github.com/catenax-ng/product-knowledge")," "),(0,l.kt)("p",null,"Be sure to initialise the git submodules after cloning the repo"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-console"},"git submodule update --init --recursive\n")),(0,l.kt)("h2",{id:"building-packages-and-running-locally"},"Building Packages and Running Locally"),(0,l.kt)("p",null,"You will need a JDK>=11 installed in the JAVA_HOME environment variable.\nYou will need internet access and (optionally) a proxy installed in the HTTP_PROXY_HOST and HTTP_PROXY_PORT environment variables.\nYou will need node.js/npm installed.\nThe build process will install a (local) maven build tool during the run.\nYou will need a valid github user with a reasonably permissive PAT (personal access token)."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-console"},"export GITHUB_ACTOR=<yourgithubusername>\nexport GITHUB_TOKEN=<yourpat>\n")),(0,l.kt)("p",null,"You will need to configure the skill gym with the right API Key and connector information for the localhost environment "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-console"},"cat > ux/skill_gym/.env << EOF\nREACT_APP_SKILL_CONNECTOR_CONTROL=http://localhost:8282\nREACT_APP_SKILL_CONNECTOR_DATA=http://localhost:8284\nREACT_APP_SKILL_CONNECTOR_AUTH_HEADER_KEY=X-Api-Key\nREACT_APP_SKILL_CONNECTOR_AUTH_HEADER_VALUE=bar\nEOF\n")),(0,l.kt)("h3",{id:"building-knowledge-agents"},"Building Knowledge Agents"),(0,l.kt)("p",null,"Building the packages can be done with or without docker images. If you are sitting behind a proxy, you could\nuse the appropriate environment variables HTTP_PROXY_HOST and HTTP_PROXY_PORT."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-console"},"./mvnw -s settings.xml install -Pwith-docker-image -Dhttps.proxyHost=${HTTP_PROXY_HOST} -Dhttps.proxyPort=${HTTP_PROXY_PORT} \ncd ux\nnpm install -g jest\nnpm run init:dev\ncd ..\n")),(0,l.kt)("h3",{id:"building-under-macosm1"},"Building under MacOS/M=>1"),(0,l.kt)("p",null,"Since we are not (no more) using gradle, there is no particular MacOS environment kung-fu anymore, as there was in the ",(0,l.kt)("a",{parentName:"p",href:"spike"},"spike"),". Also the default docker images (see above)\ntailored to linux/amd64 run perfectly under arm64-qemu."),(0,l.kt)("p",null,"Only if you want to build without emulation (and do not plan to publish the tags to our registries), you may want to call "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Use the right docker platform when calling mvnw\n./mvnw -s settings.xml install -Dplatform=linux/arm64\n")),(0,l.kt)("h3",{id:"running-knowledge-agents-locally"},"Running Knowledge Agents (Locally)"),(0,l.kt)("p",null,"Running Knowledge Agents locally simply uses the docker-compose infrastructure"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"cd infrastructure\ndocker-compose build\ndocker-compose up &\ncd ..\ncd ux\nnpm run start:skillgym\n")),(0,l.kt)("h3",{id:"running-under-macosm1"},"Running under MacOS/M=>1"),(0,l.kt)("p",null,"Only if you want to run without emulation (and do not plan to publish the tags to our registries), you may prepend"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"# Use the right docker platform when calling docker-compose\nexport DOCKER_PLATFORM=linux/arm64\n")),(0,l.kt)("h2",{id:"deploying-packages"},"Deploying Packages"),(0,l.kt)("p",null,"Deploying the maven packages can be done with or without docker images"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-console"},"./mvnw -s settings.xml publish -Pwith-docker-image\n")),(0,l.kt)("p",null,"Deploying the npm packages can be done as follows (where the username/password to be entered correspond to above github credentials)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-console"},"cd ux\nnpm login --scope=@catenax-ng --registry=https://npm.pkg.github.com\nnpm publish\n")),(0,l.kt)("p",null,"The resulting maven and npm packages reside under ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/orgs/catenax-ng/packages?repo_name=product-knowledge"},"this repository"),"."),(0,l.kt)("p",null,"The resulting docker images reside under ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/orgs/catenax-ng/packages?ecosystem=container&tab=packages&ecosystem=container&q=product-knowledge"},"this repository"),"."),(0,l.kt)("p",null,"The following images are built (and also publically available for direct pull under linux/amd64):"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-console"},"docker pull ghcr.io/catenax-ng/product-knowledge/backend/sql-virtualize-dremio-oss:22.0\ndocker pull ghcr.io/catenax-ng/product-knowledge/backend/lifetime-prognosis-mock:latest\ndocker pull ghcr.io/catenax-ng/product-knowledge/dataspace/remoting-agent:0.5.5-snapshot\ndocker pull ghcr.io/catenax-ng/product-knowledge/dataspace/provisioning-agent:0.5.5-snapshot\ndocker pull ghcr.io/catenax-ng/product-knowledge/dataspace/agentplane-azure-vault:0.5.5-snapshot\ndocker pull ghcr.io/catenax-ng/product-knowledge/dataspace/edc-dataplane-azure-vault:0.1.1-ka-snapshot\ndocker pull ghcr.io/catenax-ng/product-knowledge/dataspace/edc-controlplane-postgresql:0.1.1-ka-snapshot\ndocker pull ghcr.io/catenax-ng/product-knowledge/dataspace/edc-controlplane-memory:0.1.1-ka-snapshot\ndocker pull ghcr.io/catenax-ng/product-knowledge/dataspace/edc-controlplane-postgresql-hashicorp-vault:0.1.1-ka-snapshot\ndocker pull ghcr.io/catenax-ng/product-knowledge/dataspace/edc-dataplane-hashicorp-vault:0.1.1-ka-snapshot\n")),(0,l.kt)("h3",{id:"using-a-helm-chartkubernetes-deployment"},"Using a Helm Chart/Kubernetes Deployment"),(0,l.kt)("p",null,"You could mount the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/catenax-ng/product-knowledge/tree/v0.5.5-pilot/infrastructure"},"infrastructure folder of the repository"),"  also in Argo CD or\nan equivalent mechanism. "),(0,l.kt)("p",null,"Please be aware that this is currently not configurable, e.g. to non-Catena-X environments. A rudimentary configuration of the business partners/roles (Consumer, OEM and Supplier) is available."),(0,l.kt)("h2",{id:"interacting-with-the-pilot-apis-and-the-skill-gym"},"Interacting with the Pilot APIs and the Skill Gym"),(0,l.kt)("p",null,"You should now be able to access the APIs via this public Postman Workspace ",(0,l.kt)("a",{parentName:"p",href:"https://www.postman.com/catena-x/workspace/catena-x-knowledge-agents"},"https://www.postman.com/catena-x/workspace/catena-x-knowledge-agents"),' (choose the "Localhost" environment - no additional credentials needed - and the "Knowledge Agents Pilot" Collection).'),(0,l.kt)("p",null,"As an alternative, you may import the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/catenax-ng/product-knowledge/blob/v0.5.5-pilot/cx_ka_pilot.postman_collection.json"},"Postman Collection")," into the REST IDE of your choice."),(0,l.kt)("p",null,'If you are a member of the Catena-X consortium, you may also directly switch to the "Integration" environment and populate the lacking secrets with information from ',(0,l.kt)("a",{parentName:"p",href:"https://confluence.catena-x.net/x/1wHrAg"},"our Catena-x confluence page"),". You will then access the already deployed system."),(0,l.kt)("p",null,"You should then be able to access the skill gym via http://localhost:3000 for which you need an account in the Catena-X Central IDP."),(0,l.kt)("p",null,"If you are a member of the Catena-X consortium, you may also directly login to the ",(0,l.kt)("a",{parentName:"p",href:"https://knowledge.int.demo.catena-x.net/skill_gym"},"Integration Environment")," information from ",(0,l.kt)("a",{parentName:"p",href:"https://confluence.catena-x.net/x/1wHrAg"},"our Catena-x confluence page"),". "),(0,l.kt)("h2",{id:"what-the-demo-shows"},"What the demo shows"),(0,l.kt)("h3",{id:"login-and-welcome"},"Login and Welcome"),(0,l.kt)("p",null,"After a successful login (for which you will need a login to the Catena-X Central IDP) you will enter the dashboard which shows your assets and the Catena-X ontology"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Pilot Login",src:n(3171).Z,width:"1919",height:"1175"})),(0,l.kt)("p",null,"Here you will see whether your connector has any graph or skill offers."),(0,l.kt)("p",null,"You will also see a graph of the concepts (classes, inheritance, attributes and relations) that are encoded in the graph assets and are inferenced about in the\nskill assets."),(0,l.kt)("h3",{id:"jump-to-the-semantic-hub-in-the-portal"},"Jump to the Semantic Hub in the Portal"),(0,l.kt)("p",null,"You may look at running the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/catenax/ka-portal-frontend"},"forked Catena-X portal")," and then jump to the ",(0,l.kt)("a",{parentName:"p",href:"http://localhost:3000/semantichub/https%3A%2F%2Fraw.githubusercontent.com%2Fcatenax-ng%2Fproduct-knowledge%2Fmain%2Finfrastructure%2Fconsumer%2Fresources%2Fcx-ontology.json"},"Semantic Hub Ontology View"),"."))}g.isMDXComponent=!0},3171:function(e,t,n){t.Z=n.p+"assets/images/pilot_skill_gym-e644cfb20552231ef540bad0f5ad6de2.png"}}]);